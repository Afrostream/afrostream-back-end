#!/usr/bin/env node

// select distinct "encodingId" from "Videos" where "encodingId" is not null and "pfMd5Hash" is null
var encodingIdList = [
  "4d66ede335a3ddba",
  "55055ba78e0e5454",
  "b0cc250257002868",
  "9ea2d539e309edd8",
  "08cc99ed6b2d545e",
  "dd8a9857d5746acb",
  "1caeccd53a40f3ee",
  "2bd577168166c6f0",
  "e1e433cb1e338fb6",
  "aacca7aeb63aa9b8",
  "f456c6986c63d5ea",
  "a2c43f4cb94811e0",
  "1ccec52eeeafddcd",
  "82ed322168c73db6",
  "d6065e56aedf205d",
  "cfc7dab561c99362",
  "98dc0f7a3887d794",
  "dfa11ffe639c75cf",
  "4cf54a92152619d8",
  "1381fbe38988d137",
  "bd3afaaec4914076",
  "78521e623b90a381",
  "21cb3b812866fbe0",
  "fc980a9d0fb89c93",
  "f1e0d991973b2cff",
  "dc6f65ab1335d1f1",
  "a8992d6133eba93e",
  "84e24edf8e2a565a",
  "a386adec4f8670a8",
  "b25552bf920b82c5",
  "68397cecc85c19e2",
  "4ef709c119cab66b",
  "fee443d84e16d92c",
  "d0e15774d27009e7",
  "4ae493efafb78d8d",
  "b7651300875ce8b0",
  "3032e9f52c13ddcf",
  "42ce5b1edeb4f685",
  "b0ee209ac7353e53",
  "5b36650b389abb79",
  "61ada07c5182d5e0",
  "b5ac7f51c7447017",
  "c4ebd55b8bc55289",
  "f670a2ce99af6cf3",
  "c2f196f9887f4f56",
  "46e01ddd7519fd34",
  "4e35ff05871d3d84",
  "b783eb27eaaf736c",
  "47d70a1ed83785f2",
  "96e92372ee2fb7f2",
  "c3a3774d972bbd07",
  "97a60c0d13d87f98",
  "efbd4c7a7ad41d22",
  "584ee98edb7801a1",
  "4adbebb7117d918b",
  "3222aa2c177e4a25",
  "b339e1a0b939a2b3",
  "2975ead932187a90",
  "57f1dce592abf7d5",
  "2b389aabb231f8ff",
  "914d6c6196184f84",
  "6cdd1e68a9b8ecd1",
  "36cabc5108acc65f",
  "463122b927ecbf5a",
  "9b38e19e80dc3023",
  "79760f6b7fcd93f4",
  "ab3bf92c208a22ba",
  "b9209304f6bf9e6a",
  "fd612bd4ab36833b",
  "98575fca123a09f0",
  "89bab922407d3fda",
  "5b8a1f910499de7e",
  "c66622728901da45",
  "9a1f891a3046aa59",
  "86b93f0b89e496fc",
  "c36ffe6812c2d158",
  "2e8b307a64611c9a",
  "923e8fab3c083fe3",
  "1a0271e423e43d95",
  "fa8a483808c032ca",
  "7cddb06916c5da85",
  "e3c5c803239497d1",
  "21c11b752d4360fe",
  "c5142fe9377f86c9",
  "5292dcacd7afbb73",
  "a11dc7fcdb04e6b8",
  "24d31e5ee12fcbda",
  "5e7f3a30ba99b79b",
  "bda920ab3615bc22",
  "af3e7ed9015135e5",
  "0487582e0015621d",
  "b2b01ba16c1dfa0a",
  "e06e81201d15afb1",
  "1c7788fb3053f9ac",
  "55dc3d3e2ab27604",
  "7e406a7733a4af4c",
  "3dac9fefc656c82b",
  "cd7389ef65df427b",
  "874c9857ad1394ad",
  "ee1800a482557155",
  "d0987485b84b7e3d",
  "c561f18c45fcd00d",
  "de55ee4aa414685a",
  "95a1d6f1e0664f86",
  "2a288f3fc35a3f69",
  "8bb5e12b236accea",
  "8fa0edc7b33c0e6d",
  "5b339b4c3480f41f",
  "4c00350af2a3b541",
  "fc607e03b0f5b77e",
  "6be6bfb876a3700e",
  "5a9c5dcc1ab9df54",
  "b9dda2b488b55d7d",
  "4e5b4f37e77ff40e",
  "bf88be9c6f12939e",
  "4451168c649a5231",
  "6710616617beedd6",
  "0cb02133b3cf1820",
  "135788edf2626bd5",
  "5ac847fe3f601919",
  "8be7c0fb7cbf0693",
  "ddcb6df42497e8f7",
  "8c54673ebbf17d61",
  "b7cec3eb3215f6eb",
  "2f02948fce333fd7",
  "6be5f175e3cc28a4",
  "131d15aeb4b2646a",
  "cf10cb1ddc825714",
  "5facf99a64812d74",
  "b74feb044339fbbf",
  "6c64c3b9a7475608",
  "39bd9571497790af",
  "be8d034e0bf4c91d",
  "1da114c8a1586266",
  "91d41af51bb13412",
  "8c8cf93b94becc36",
  "5762d76b476a1370",
  "aa84624e0c561689",
  "d991d7799586deba",
  "0e5ddc974270304b",
  "0ce70b78b1d6f895",
  "1150e30f874167ef",
  "e94330e7ce3f0d8c",
  "94fb6ac7eb2e594f",
  "77c6e426959e8936",
  "68fda6532e9287d5",
  "b57724bdf19bc097",
  "eca25db1b4c38072",
  "f567d71ad4ae8632",
  "fb965619ec72fe4d",
  "3ba130cc0253b6d6",
  "50bfd4e00133da76",
  "5ee36808009dda80",
  "803bba68f9155f96",
  "1dc4008b8745065f",
  "56f74fb0c568c545",
  "62cf0058bf075bd5",
  "1221bb20ad50818a",
  "a583da223fd31f13",
  "2dbb03340c39b43b",
  "15466f69705f8de0",
  "a1e962eed055c617",
  "8c6c46e9e49c90bf",
  "e2611d9d5253d2f3",
  "5650c45b340eeb4e",
  "7407567d6aec77b2",
  "877eb16922bdbf9a",
  "b7f6a04b6e88846e",
  "b6088548aec3d0cb",
  "ddffcfcb0048ddd1",
  "b50b9465af403984",
  "d259c7a648d29708",
  "f04f2bc0b0f0dee2",
  "f91cacf2629c7540",
  "1b995a52bd99903f",
  "6cfdbe9c09570443",
  "e183edcff2637a99",
  "b97b4867da336c05",
  "4402aabf2a3597f9",
  "6b374e96eeec1db9",
  "c8b5a33b6252db93",
  "adde67858859960a",
  "94e7d00b65cf3b70",
  "b34b0870ec5349b8",
  "492e56dd702d84e9",
  "f036aec928f216b8",
  "2c8979c84bfc9793",
  "20c3ac2f979da415",
  "a849ab838a2e54b6",
  "f2ade1af74a59726",
  "e82685f648fd2c01",
  "29ff1612ddb24570",
  "04f9357564829e10",
  "1365a3203ecf6b1f",
  "84dccab9c350bf04",
  "a37878414ed010f6",
  "180c5fd0ba9ffea5",
  "2087b903af5fba9f",
  "f6e533bd2b7bd78d",
  "83b26ae17ab82f87",
  "5b725150329f972d",
  "f50cb7f02c4110db",
  "644b4119b656d65f",
  "36eb19c12582405f",
  "16e0bb82d06c9366",
  "6819558b37a55444",
  "c1114c4fdbbe6f39",
  "25fd367c32c2333d",
  "0fd48f01884b4d51",
  "53400ade3470aec9",
  "87c956225b4bf4b6",
  "d46f9457123edb0e",
  "c1d092dea7f9ae43",
  "ae2a71353341f226",
  "bf632a412037373d",
  "fa9c3421cd35efc1",
  "b165ecbba481ed35",
  "2fd7c9349ffc2fb1",
  "a285a1acc9e7a18e",
  "0b88bcbaa29813d2",
  "9b14b2c2ac92cee3",
  "5af8c184e5d16ffd",
  "b2bba5b0a6fd1a8e",
  "3cc99b1969aa7c78",
  "b4af6f7e55d4b0c7",
  "46ac2c2af99739fc",
  "7c442f0b63424003",
  "064609571b058281",
  "e1601c4cab6bb247",
  "beb033f72cbac4b4",
  "14cb9900e2f7c2e2",
  "db7d69b1341dcdfc",
  "6516cd1b7ec163a6",
  "fa543eb7168e2c74",
  "8dc161ee2946f871",
  "deac6e3b02c64cf5",
  "3b147f7071bb8075",
  "22eaa2ff233b464e",
  "45e0b2ec5dc3a64f",
  "a285246e7af2e148",
  "773381d0ad908f34",
  "c3c195a5a5f07bdb",
  "51b82b0dc651da85",
  "d2963f2545503ad4",
  "1db198bd84702689",
  "657dca5c35d21f2c",
  "8cd80242a5d6f90d",
  "bd2a914c6f73a954",
  "1735657cfc30a13c",
  "d7efbbdb83c6739b",
  "f061945838e587d5",
  "81f3aa270dd06419",
  "0fae61c81da8f68a",
  "f3af6621d37c022c",
  "a095703640256d09",
  "a4818971d9c3fcd7",
  "39b339bbddd84bc2",
  "c2ec711aae855a44",
  "909c506439b4b27c",
  "2e23f5e68cb05005",
  "0037563e877c7329",
  "ff49c5b9b2e6585f",
  "3455ffdede86aab8",
  "3ab8b66b8b10b1fa",
  "920bcb65ff6ff2c8",
  "1cd0ceb45d603645",
  "a090fb029d0cca89",
  "c7bd4a3395ed537f",
  "4646c8531d0b5bcd",
  "b652a0a93d8a080c",
  "152a878ccbf4ca0d",
  "781827cf01d4825e",
  "0e4f41e954885782",
  "fe26377cb8cd98c7",
  "da1aafcbbae1a3b6",
  "5b551ac4f7da518a",
  "82130037daed672d",
  "2b398bc245eb5764",
  "9c5944c5c35d2cd3",
  "a15ae315526d43c1",
  "5f2b609a37d47a8f",
  "5c5d2be74efbdc00",
  "367feba2021af1ca",
  "2a79420cf8a0a867",
  "29c894c3427691f8",
  "eed309b43db223ef",
  "9fd976a90e63b686",
  "5dfb1725669bf0e5",
  "d16dbad64ccae3e4",
  "b0b80fc58e7f1542",
  "3a969ed4d9c78a50",
  "ad2087a5d8433617",
  "c5bb168cc4c40ada",
  "b6f69783a5a4efac",
  "02535e2399a926a8",
  "d6ba591448a72288",
  "fc22008bc4674921",
  "6c1b620bee2b363e",
  "375c576f9c1c7cc9",
  "f4565cd07fc24d41",
  "360a9ebfef73ffdf",
  "7a1a284293ed8462",
  "b6012410de121ba2",
  "23cb1b357e74e3fe",
  "cc7e98ffe620e37b",
  "d22cf685983df004",
  "27099f462d623be9",
  "d67265a789698ad0",
  "1d3316cc3095284e",
  "6d6f30a47fc54ff0",
  "ac26549687cc23d3",
  "5ad0669b9f413388",
  "c81746107e7c89a8",
  "c7de86fa49d24e40",
  "ffdca4fae1849c99",
  "def475b815eae098",
  "397384983912de8b",
  "902201fbf1087ffc",
  "cea8a86d3681f4a0",
  "cb687d63b987c3f2",
  "c6832cf78025bcbb",
  "e508b188f72e858f",
  "7f05e0fad1c33ba7",
  "24088bcfc6485ccd",
  "9f097bd925fba9c5",
  "0220acc39afe3f33",
  "a8c79718cd01b641",
  "b4bc22c55b1dfdac",
  "5621597701769265",
  "a48377d2fe0da701",
  "0128281a1bab8bf0",
  "53a7f98e6287cad3",
  "0200bf2699b5aa27",
  "0b52a139741b2898",
  "22c32fb1dd9b73fd",
  "6a53d134e4a9c378",
  "898c671bcc48ebe3",
  "0940edd27ca21750",
  "14a15afd5eab6649",
  "bd808fc0f68a60d6",
  "52ef222968508148",
  "85b7f7ae6733258b",
  "23379d4e000b74bb",
  "278ee3f4bf285843",
  "20d54bc86e53575a",
  "44976a5cdf56b4cd",
  "22f46a32a271ae9f",
  "b23628b16662a2de",
  "a7b1dc843f59e198",
  "bbdbcf346c4bead4",
  "4269d5fac2cb6c83",
  "8bcd2e0d944e40c3",
  "34d826b3fc9d1568",
  "8ba1a3d6d0d10f3c",
  "57874c51c029203b",
  "fd66060d1d45d7b0",
  "28756b73c34c71c2",
  "d5ca64b931583c28",
  "76aa5855e24fdb3a",
  "612776303fb823ad",
  "2309c9ffc766007e",
  "69b463b5c0c7fac4",
  "8918b7f20dab970c",
  "a4710e7f65a4e1cc",
  "763f11443f9692d4",
  "8e10ac06027516a8",
  "386e3c5a1375faa1",
  "2bca37907319deed",
  "bdca06140721324e",
  "dea12711576cae75",
  "b6b507b2e3eae547",
  "e4511e29b29bad2f",
  "5c62728f9783190b",
  "f8ce2c9d0f237933",
  "51495d673d8b3846",
  "4b8f5b0f709045f7",
  "86c510fa84af3eca",
  "4864436782b42ad2",
  "6d3069a3554eaf6c",
  "fcc7108a9327fb28",
  "972b68c475563c71",
  "795866ac7f163e1a",
  "e7231b7713ecf965",
  "2bbc6201c82295a2",
  "cc1c71c5eb35c7a5",
  "a3187125164707d0",
  "459be544aa1ee9cb",
  "cbc9d9cf44b8a711",
  "a6503ad3b2bc89c8",
  "737bb21a3d268ff6",
  "5637d646afe514e1",
  "0d8a72ab42eac098",
  "9d83ad27527dfc61",
  "6e350d7e9d344a65",
  "e648b33c1525d19e",
  "a2cf62cddef26096",
  "d42b2b6bd0b81a1f",
  "1de2af809d70935c",
  "f3574a6faba35a5b",
  "2f382fc076ecdc33",
  "691edf699ec198eb",
  "5873fbf21d54d3e6",
  "c98f9889207c9b56",
  "b2f981af0385d4a4",
  "88891e0971251fd0",
  "c0b9aa217724edfa",
  "650d023f32979f1a",
  "588d1a5e59dd9b2b",
  "d47b1e8d35e36330",
  "11156641eb71ca7d",
  "72c570650fc0a95a",
  "12962caeb6eb9b99",
  "ea891867c2b5a7ae",
  "52489fd56049532c",
  "c65aa147b5d0cfef",
  "62007351cf9d2d7f",
  "aaf7fb9454cff476",
  "bd60c460727accbe",
  "b000fa9644ec9f38",
  "21e565e417bd0e28",
  "70712086600ba51c",
  "69cde911a90e9445",
  "b412e31fffe9e8cd",
  "b388e4c96d1bd64c",
];

var Q = require('q');
var request = require('request');

// try to know the pfMd5Hash
encodingIdList.reduce(function (p, c, i) {
  //if (i > 5) return p;
  return p.then(function () {
    return Q.nfcall(request, { json: true, url: 'http://p-afsmsch-001.afrostream.tv:4000/api/contents?uuid=' + c });
  }).then(function (data) {
    var body = data[1];
    if (!Array.isArray(body)) {
      //console.log('"'+c+'";"error"');
    } else if (body.length) {
      if (body[0].md5Hash) {
      console.log('"'+c+'";"'+body[0].md5Hash+'"');
      }
    } else {
      //console.log('"'+c+'";"unknown encodingId"');
    }
    //console.log('response body', body);
  }, function (err) { console.error(err.message) });
}, Q());
