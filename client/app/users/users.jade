label(for='id').control-label User Role
.form-group
  .btn-group
    label.btn.btn-primary(ng-model='item.role' btn-radio='"user"' ) User
    label.btn.btn-primary(ng-model='item.role' btn-radio='"admin"' ) Admin
.form-group
  label(for='name').control-label Name
  input.form-control(id='name' type='text' ng-model='item.name')
  label(for='email').control-label Email
  input.form-control(id='email' type='text' ng-model='item.email')
.form-group(ng-if='!item._id')
  label(for='password').control-label Password
  input.form-control(id='password' type='text' ng-model='item.password')

div
  label.btn.btn-primary.glyphicon.glyphicon-lock(ng-click='togglePasswordEdition()')
  div(style="padding: 14px 0;" ng-hide='passwordEditionMode')
    label.btn.btn-primary(ng-click='getNewPassword()') Create new password
    input.form-control(style="margin-top: 8px; width: 148px" ng-model='item.newPassword' select-on-click)
    label.btn.btn-primary(style="margin-top: 8px;" ng-click='saveNewPassword()') Save new password

.form-group(style="max-height:300px;overflow-y:scroll;font-size:10px;font-family: 'Courier New';")
  table.table
    colgroup
      col.col-md-2
      col.col-md-2
      col.col-md-4
    thead
      tr
        th.text-center Date
        th.text-center Ip
        th.text-center User Agent
    tbody
      tr(ng-repeat='accessToken in accessTokens')
        td.text-center
          div {{accessToken.createdAt}}
        td.text-center
          div {{accessToken.data.userIp}}
        td.text-center
          div {{accessToken.data.userAgent}}


.form-group(style="max-height:300px;overflow-y:scroll;font-size:10px;font-family: 'Courier New';")
  table.table
    colgroup
      col.col-md-1
      col.col-md-1
      col.col-md-1
      col.col-md-1
      col.col-md-1
      col.col-md-1
      col.col-md-1
      col.col-md-1
      col.col-md-1
      col.col-md-1
      col.col-md-1
      col.col-md-1
      col.col-md-1
      col.col-md-1
    thead
      tr
        th(style="padding: 8px 5px;").text-center Id Interne
        th(style="padding: 8px 5px;").text-center Id externe
        th(style="padding: 8px 5px;").text-center Provider
        th(style="padding: 8px 5px;").text-center Accès aux catalogue
        th(style="padding: 8px 5px;").text-center Date de création
        th(style="padding: 8px 5px;").text-center Date activ.
        th(style="padding: 8px 5px;").text-center Période d'Abo
        th(style="padding: 8px 5px;").text-center Date annul.
        th(style="padding: 8px 5px;").text-center Date expir.
        th(style="padding: 8px 5px;").text-center Trial en cours
        th(style="padding: 8px 5px;").text-center Plan
        th(style="padding: 8px 5px;").text-center Coupon
        th(style="padding: 8px 5px;").text-center Statut externe
        th(style="padding: 8px 5px;").text-center Options
    tbody
      tr(ng-repeat='subscription in subscriptions')
        td(style="padding: 8px 5px;").text-center
          div {{subscription.subscriptionBillingUuid}}
        td(style="padding: 8px 5px;").text-center
          div(style="width: 70px; word-wrap: break-word;") {{subscription.subscriptionProviderUuid}}
        td(style="padding: 8px 5px;").text-center
          div {{subscription.provider.providerName}}
        td(style="padding: 8px 5px;").text-center
          div
            label.glyphicon(ng-class="subscription.isActive=='yes' ? 'glyphicon-ok' : 'glyphicon-remove'")
        td(style="padding: 8px 5px;").text-center
          div {{subscription.creationDate | date:'dd/MM/yyyy'}}
        td(style="padding: 8px 5px;").text-center
          div {{subscription.subActivatedDate| date:'dd/MM/yyyy'}}
        td(style="padding: 8px 5px;").text-center
          div {{subscription.subPeriodStartedDate| date:'dd/MM/yyyy'}} -> {{subscription.subPeriodEndsDate| date:'dd/MM/yyyy'}}
        td(style="padding: 8px 5px;").text-center
          div {{subscription.subCanceledDate| date:'dd/MM/yyyy'}}
        td(style="padding: 8px 5px;").text-center
          div {{subscription.subExpiresDate| date:'dd/MM/yyyy'}}
        td(style="padding: 8px 5px;").text-center
          div {{subscription.inTrial}}
        td(style="padding: 8px 5px;").text-center
          div(style="width: 55px; word-wrap: break-word;") {{subscription.internalPlan.internalPlanUuid}}
          div
            strong {{subscription.internalPlan.name}}
          div {{subscription.internalPlan.periodLength}} {{subscription.internalPlan.periodUnit}} ({{subscription.internalPlan.cycle}})
          div {{subscription.internalPlan.amount}} {{subscription.internalPlan.currency}}
          div Trial: {{subscription.internalPlan.trialEnabled}}
        td(style="padding: 8px 5px;").text-center
          div {{subscription.subOpts.couponCode}}
        td(style="padding: 8px 5px;").text-center
          div {{subscription.subStatus}}
        td(style="padding: 8px 5px;").text-center
          div Annulable: {{subscription.isCancelable}} Reactivable: {{subscription.isReactivable}}
